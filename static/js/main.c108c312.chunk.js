(this.webpackJsonpachshorttes3=this.webpackJsonpachshorttes3||[]).push([[0],{144:function(e,t,n){},151:function(e,t,n){e.exports=n.p+"static/media/rating_keydown_1.d9fbf22f.png"},152:function(e,t,n){e.exports=n.p+"static/media/rating_keydown_2.6a659dd4.png"},153:function(e,t,n){e.exports=n.p+"static/media/rating_keydown_3.d955b91a.png"},154:function(e,t,n){e.exports=n.p+"static/media/rating_keydown_4.c8b7c686.png"},155:function(e,t,n){e.exports=n.p+"static/media/rating_keydown_5.34958048.png"},156:function(e,t,n){e.exports=n(331)},161:function(e,t,n){},162:function(e,t,n){},163:function(e,t,n){},170:function(e,t){},172:function(e,t){},182:function(e,t){},184:function(e,t){},211:function(e,t){},213:function(e,t){},214:function(e,t){},219:function(e,t){},221:function(e,t){},227:function(e,t){},229:function(e,t){},248:function(e,t){},25:function(e){e.exports=JSON.parse('{"taskVersion":"1.0.0","taskName":"achshorttes3","debug":false,"awsLambda":{"saveTaskData":{"host":"de8cnjde61.execute-api.us-east-2.amazonaws.com","path":"/default/saveTaskData"},"fetchLink":{"host":"3pnzb6n9vf.execute-api.us-east-2.amazonaws.com","path":"/default/fetchLink"}}}')},26:function(e,t,n){},260:function(e,t){},263:function(e,t){},304:function(e,t,n){},305:function(e,t,n){},306:function(e,t,n){},307:function(e,t,n){},308:function(e,t,n){},309:function(e,t,n){},311:function(e,t,n){},312:function(e,t,n){},313:function(e,t,n){},325:function(e,t){},330:function(e,t,n){},331:function(e,t,n){"use strict";n.r(t),n.d(t,"history",(function(){return vt}));var a=n(0),r=n.n(a),s=n(149),l=n.n(s),o=(n(161),n(162),n(7)),i=n(49),c=n.n(i);n(163);n(11),n(164);function u(){try{return localStorage.setItem("test","test"),localStorage.removeItem("test"),!0}catch(e){return!1}}const m=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));const d=function(){var e={background:127.5,angle:Math.floor(135*Math.random())+45,imsize:256,initcontrast:.5,threshold:.2,phases:[0,.25],phase:0,alpha:.5,ppd:80,frequency:0};return e.phase=e.phases[Math.round(Math.random())],e.frequency=2/e.ppd,e}(),h=(function(e,t){e.map(e=>d.background+e*d.background*t)}(function(e){for(var t=[],n=[],a=1;a<e.imsize+1;a++)for(var r=1;r<e.imsize+1;r++)t[4*(a-1+(r-1)*e.imsize)+0]=a-(e.imsize+1)/2,t[4*(a-1+(r-1)*e.imsize)+1]=a-(e.imsize+1)/2,t[4*(a-1+(r-1)*e.imsize)+2]=a-(e.imsize+1)/2,t[4*(a-1+(r-1)*e.imsize)+3]=a-(e.imsize+1)/2,n[4*(a-1+(r-1)*e.imsize)+0]=r-(e.imsize+1)/2,n[4*(a-1+(r-1)*e.imsize)+1]=r-(e.imsize+1)/2,n[4*(a-1+(r-1)*e.imsize)+2]=r-(e.imsize+1)/2,n[4*(a-1+(r-1)*e.imsize)+3]=r-(e.imsize+1)/2;for(var s=[],l=0;l<t.length&&l<n.length;l++)s[l]=.5*Math.cos(2*Math.PI*(e.frequency*(Math.sin(Math.PI/180*e.angle)*t[l]+Math.cos(Math.PI/180*e.angle)*n[l])+e.phase));return s}(d),0),{duration:300,amp:1,frequency:750});function E(e){b=e}function p(e,t,n,a){!function(e,t,n,a){if(!a)return;var r=a.createOscillator(),s=a.createGain();r.connect(s),r.frequency.value=t,s.connect(a.destination),s.gain.value=g(e,6418e-7,56.3),r.start(a.currentTime),r.stop(a.currentTime+n/1e3)}(a,e.frequency,n||e.duration,t)}let b=80,y=null;function v(e){console.log("Playing white noise via playWhiteNoiseTest at volume (dB):",b);for(var t=3*e.sampleRate,n=e.createBuffer(2,t,e.sampleRate),a=0;a<n.numberOfChannels;a++)for(var r=n.getChannelData(a),s=0;s<t;s++)r[s]=(2*Math.random()-1)*g(b,.015,78.3);y&&y.buffer===n||(y&&(y.stop(),y.disconnect()),y=e.createBufferSource(),y.buffer=n,y.loop=!0,y.connect(e.destination),y.start())}function g(e,t,n){return Math.pow(10,(e-n)/20)*t}const f=n(25),C=n(11);var k=n(142);const w=f.taskName,T=["updatePdf","warnPdf","normalizePdf","tGuess","tGuessSd","pThreshold","xThreshold","beta","delta","gamma","grain","dim","quantileOrder"];function N(){return D.store.processedData}function x(e){return"component_"+e}function S(e,t,n,a,r,s,l,o){const i=D.store,c=x(e);i[c]={},i[c].decibels=t,i[c].response=n,i[c].responseTime=a,C.isUndefined(r)||(i[c].ratings=r),C.isUndefined(s)||(i[c].ratingsRaw=s),i[c].timestamps=l,i[c].startTimestamp=o,D.save()}function I(){return D.store.encrypted_metadata}function L(){return D.store.survey_url}function R(){return D.store.dataSent}function O(e){D.store.dataSent=e,D.save()}function P(){if(C.isUndefined(I()))return!1;if(C.isUndefined(D.store.quest))return!1;if(!f.debug)for(let t=1;t<=4;t++)if(C.isUndefined((e=t,D.store[x(e)])))return!1;var e;return!0}const D={get store(){if(C.isUndefined(this._store))if(u()){const e=JSON.parse(localStorage.getItem(w));this._store=e||{}}else this._store={};return this._store},save(){u()&&(localStorage.setItem(w,JSON.stringify(this.store)),f.debug&&console.log("saved: "+localStorage.getItem(w)))},clear(){f.debug&&console.log("cleared"),this._store=void 0,u()&&localStorage.removeItem(w)}};function A(){const e=I(),t=R();D.clear(),D.store.encrypted_metadata=e,D.store.dataSent=t,D.save()}var _=n(295),F=n(11);class Y extends a.Component{constructor(e){super(e),this.keyFunction=this.keyFunction.bind(this),this.state={continue:!1,invalid:!1,dataSent:!1}}keyFunction(e){81===e.keyCode&&this.setState((e,t)=>({continue:!0}))}componentDidMount(){document.addEventListener("keydown",this.keyFunction,!1);const e=_.parse(this.props.location.search,{ignoreQueryPrefix:!0});var t,n;F.isUndefined(e.id)?F.isUndefined(I())&&this.setState({invalid:!0}):(t=e.id)!==D.store.encrypted_metadata&&(D.clear(),D.store.encrypted_metadata=t,D.save()),F.isUndefined(e.survey_url)||(n=e.survey_url,D.store.survey_url=n,D.save()),R()&&this.setState({dataSent:!0})}componentWillUnmount(){document.removeEventListener("keydown",this.keyFunction,!1)}render(){return this.state.invalid?r.a.createElement(o.a,{to:"/Error"}):this.state.dataSent?r.a.createElement(o.a,{to:"/ThankYou"}):!0===this.state.continue?r.a.createElement(o.a,{to:"/VolumeCalibrationInstructions"}):r.a.createElement("div",{className:"Welcome"},r.a.createElement("input",{type:"hidden"}),r.a.createElement("header",{className:"Welcome-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"Welcome-text"},r.a.createElement("span",{className:"bigger"},"Welcome to the study! "),r.a.createElement("br",null),r.a.createElement("br",null)," In this task you will be asked to indicate whether you hear a tone being played.",r.a.createElement("br",null),r.a.createElement("br",null),"Please enter responses to the questions asked by pressing the:",r.a.createElement("br",null),r.a.createElement("br",null),"  ",r.a.createElement("font",{size:"+2"}," ",r.a.createElement("b",null," 'Q' key for 'YES I HEAR IT'")," or ",r.a.createElement("b",null," 'E' key for \"NO I DO NOT'")," "),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null)," Sometimes it may be difficult to answer, but if you do not know, please make your best guess.",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null)," Please keep your volume (including headphones) and screen brightness at maximum level throughout the experiment.",r.a.createElement("br",null),r.a.createElement("br",null)," Please focus your eyes on the ",r.a.createElement("b",null,"cross in the middle "),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null)," PRESS the ",r.a.createElement("b",null," YES I HEAR IT / 'Q' key ")," to CONTINUE")),r.a.createElement("a",{href:"https://medicine.yale.edu/psychiatry/care/cmhc/",title:"Learn more about the Connecticut Mental Health Center",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:c.a,className:"Site-link",alt:"logo"}))))}}var U=Y;n(304);class H extends a.Component{constructor(e){super(e),this.keyFunction=e=>{81===e.keyCode&&this.setState((e,t)=>({continue:!0}))},this.state={continue:!1}}componentDidMount(){document.addEventListener("keydown",this.keyFunction,!1)}componentWillUnmount(){document.removeEventListener("keydown",this.keyFunction,!1)}render(){return!0===this.state.continue?r.a.createElement(o.a,{to:"/Trial_P"}):r.a.createElement("div",{className:"Instructions"},r.a.createElement("input",{type:"hidden"}),r.a.createElement("header",{className:"Instructions-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"Instructions-text"},"Now we can start the Hearing Test!",r.a.createElement("br",null),r.a.createElement("br",null)," Auditory white noise (like static radio) will be played throughout the experiment.",r.a.createElement("br",null),r.a.createElement("br",null)," A tone might play while the white noise continues when there are stripes on the screen.",r.a.createElement("br",null),r.a.createElement("br",null),"Only respond when you see the stripes.",r.a.createElement("br",null),r.a.createElement("br",null)," Please focus your eyes on the ",r.a.createElement("b",null,"cross in the middle "),r.a.createElement("br",null),r.a.createElement("br",null)," Press  ",r.a.createElement("font",{size:"+2"},"  ",r.a.createElement("b",null,' "Q"/YES ')," ")," if you ",r.a.createElement("b",null," DO "),"hear the tone.",r.a.createElement("br",null),r.a.createElement("br",null)," Press ",r.a.createElement("font",{size:"+2"}," ",r.a.createElement("b",null,' "E"/NO ')," ")," if you ",r.a.createElement("b",null," DO NOT ")," hear the tone.",r.a.createElement("br",null),r.a.createElement("br",null)," Please respond as ",r.a.createElement("b",null," QUICKLY ")," and as ",r.a.createElement("b",null," ACCURATELY ")," as you ",r.a.createElement("b",null," POSSIBLY CAN "),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),' PRESS "Q"/YES TO BEGIN A SHORT PRACTICE SESSION'))))}}var M=H,W=(n(305),()=>r.a.createElement("div",{className:"NotFound"},r.a.createElement("h3",null,"Sorry, page not found!")));n(306);class q extends a.Component{constructor(e){super(e),this.keyFunction=e=>{81===e.keyCode&&this.setState((e,t)=>({continue:!0}))},this.state={continue:!1}}componentDidMount(){document.addEventListener("keydown",this.keyFunction,!1)}componentWillUnmount(){document.removeEventListener("keydown",this.keyFunction,!1)}render(){return!0===this.state.continue?r.a.createElement(o.a,{to:"/Trial_TT_1"}):r.a.createElement("div",{className:"Complete"},r.a.createElement("header",{className:"Complete-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"Complete-text"},"Congratulations!",r.a.createElement("br",null),r.a.createElement("br",null)," First part of the experiment is over.",r.a.createElement("br",null),r.a.createElement("br",null)," Now we will continue with the next trials. Now, there will be ratings similar to the second practice.",r.a.createElement("br",null),r.a.createElement("br",null)," You will see a rating screen following each presentation of stripes, press",r.a.createElement("br",null),r.a.createElement("br",null)," and then hold the ",r.a.createElement("b",null,' "Q"/YES ')," button or ",r.a.createElement("b",null,' "E"/NO ')," button.",r.a.createElement("br",null),r.a.createElement("br",null)," The longer you hold it down, the more certain you are of your choice.",r.a.createElement("br",null),r.a.createElement("br",null)," If you hold ",r.a.createElement("b",null,' "Q"/YES '),"  button down for a long time, you are very certain that you  ",r.a.createElement("b",null," DO ")," hear the tone.",r.a.createElement("br",null),r.a.createElement("br",null)," If you hold ",r.a.createElement("b",null,' "E"/NO '),"  button down for a long time, you are very certain that you ",r.a.createElement("b",null," DO NOT ")," hear the tone.",r.a.createElement("br",null),r.a.createElement("br",null)," Please respond as ",r.a.createElement("b",null," QUICKLY ")," and as ",r.a.createElement("b",null," ACCURATELY ")," as you ",r.a.createElement("b",null," POSSIBLY CAN "),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),' PRESS "Q"/YES WHEN READY TO CONTINUE.'))))}}var V=q;n(307);class B extends a.Component{constructor(e){super(e),this.keyFunction=e=>{81===e.keyCode&&this.setState((e,t)=>({continue:!0}))},this.state={continue:!1}}componentDidMount(){document.addEventListener("keydown",this.keyFunction,!1)}componentWillUnmount(){document.removeEventListener("keydown",this.keyFunction,!1)}render(){return!0===this.state.continue?r.a.createElement(o.a,{to:"/Trial_P_rating"}):r.a.createElement("div",{className:"Continue"},r.a.createElement("header",{className:"Continue-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"Continue-text"},"Great!",r.a.createElement("br",null),r.a.createElement("br",null)," First task complete! You will do the same thing in the next task, with some important differences:",r.a.createElement("br",null),r.a.createElement("br",null)," You will see a rating screen following each presentation of stripes, press",r.a.createElement("br",null),r.a.createElement("br",null)," and then hold the ",r.a.createElement("b",null,' "Q"/YES ')," button or ",r.a.createElement("b",null,' "E"/NO ')," button.",r.a.createElement("br",null),r.a.createElement("br",null)," The longer you hold it down, the more certain you are of your choice.",r.a.createElement("br",null),r.a.createElement("br",null)," If you hold ",r.a.createElement("b",null,' "Q"/YES '),"  button down for a long time, you are very certain that you  ",r.a.createElement("b",null," DO ")," hear the tone.",r.a.createElement("br",null),r.a.createElement("br",null)," If you hold ",r.a.createElement("b",null,' "E"/NO '),"  button down for a long time, you are very certain that you ",r.a.createElement("b",null," DO NOT ")," hear the tone.",r.a.createElement("br",null),r.a.createElement("br",null)," Please respond as ",r.a.createElement("b",null," QUICKLY ")," and as ",r.a.createElement("b",null," ACCURATELY ")," as you ",r.a.createElement("b",null," POSSIBLY CAN "),r.a.createElement("br",null),r.a.createElement("br",null)," Please focus your eyes on the ",r.a.createElement("b",null,"cross in the middle "),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),' PRESS "Q"/YES WHEN READY TO CONTINUE.'))))}}var Q=B;n(308);class z extends a.Component{constructor(e){super(e),this.keyFunction=e=>{81===e.keyCode&&this.setState((e,t)=>({continue:!0}))},this.state={continue:!1}}componentDidMount(){document.addEventListener("keydown",this.keyFunction,!1)}componentWillUnmount(){document.removeEventListener("keydown",this.keyFunction,!1)}render(){return!0===this.state.continue?r.a.createElement(o.a,{to:"/TrialQ"}):r.a.createElement("div",{className:"Continue_rating"},r.a.createElement("header",{className:"Continue_rating-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"Continue_rating-text"},"Great!",r.a.createElement("br",null),r.a.createElement("br",null)," You have completed the practice trials. Now onto the real test.",r.a.createElement("br",null),r.a.createElement("br",null),"  It is important to note that the tone in the practice session was there to make sure",r.a.createElement("br",null),r.a.createElement("br",null),"  you understood what to do, with very obvious and impossible-to-hear tones.",r.a.createElement("br",null),r.a.createElement("br",null),"  The tone in the remainder of the experiment",r.a.createElement("br",null),r.a.createElement("br",null),"  may be very difficult to hear so you will have to listen very hard.",r.a.createElement("br",null),r.a.createElement("br",null),"  Sometimes it might be difficult to answer, but if you do not know, please guess.",r.a.createElement("br",null),r.a.createElement("br",null),"  For this first task, you will not be asked to rate your confidence so just quickly press",r.a.createElement("br",null),r.a.createElement("br",null),"  and release the button as soon as the screen flashes with the stripes.",r.a.createElement("br",null),r.a.createElement("br",null)," Please focus your eyes on the ",r.a.createElement("b",null,"cross in the middle "),r.a.createElement("br",null),r.a.createElement("br",null)," Press  ",r.a.createElement("font",{size:"+2"},"  ",r.a.createElement("b",null,' "Q"/YES ')," ")," if you ",r.a.createElement("b",null," DO "),"hear the tone.",r.a.createElement("br",null),r.a.createElement("br",null)," Press ",r.a.createElement("font",{size:"+2"}," ",r.a.createElement("b",null,' "E"/NO ')," ")," if you ",r.a.createElement("b",null," DO NOT ")," hear the tone.",r.a.createElement("br",null),r.a.createElement("br",null)," Please respond as ",r.a.createElement("b",null," QUICKLY ")," and as ",r.a.createElement("b",null," ACCURATELY ")," as you ",r.a.createElement("b",null," POSSIBLY CAN "),r.a.createElement("br",null),r.a.createElement("br",null)," There will be scheduled breaks throughout the experiment, but please do not take a break unless instructed.",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),' PRESS "Q"/YES TO BEGIN THE EXPERIMENT.'))))}}var K=z;n(26);class G extends a.Component{constructor(e){super(e),this.decreaseVolume=()=>{this.state.decreaseCount<5&&this.setState(e=>({volumeLevel:e.volumeLevel-15,decreaseCount:e.decreaseCount+1}),()=>{E(this.state.volumeLevel),this.audioContext.close().then(()=>{this.audioContext=new AudioContext,this.playNoise()})})},this.keyFunction=e=>{81===e.keyCode&&this.setState({continue:!0})},this.state={continue:!1,volumeLevel:80,decreaseCount:0},this.audioContext=new AudioContext}componentDidMount(){document.addEventListener("keydown",this.keyFunction,!1)}componentWillUnmount(){document.removeEventListener("keydown",this.keyFunction,!1)}render(){return!0===this.state.continue?r.a.createElement(o.a,{to:"/VolumeCalibration1"}):r.a.createElement("div",{className:"VolumeInstructions"},r.a.createElement("input",{type:"hidden"}),r.a.createElement("header",{className:"VolumeInstructions-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"VolumeInstructions-text"},"BEFORE WE BEGIN: This game plays a white noise in the background. Rarely, it is intolerably loud at first.",r.a.createElement("br",null),r.a.createElement("br",null)," We will play the white noise for you. It should be loud but not intolerable.",r.a.createElement("br",null),r.a.createElement("br",null)," ",r.a.createElement("b",null,"Do not change your computer volume!"),r.a.createElement("br",null),r.a.createElement("br",null)," If the noise is ",r.a.createElement("b",null,"intolerable"),", ",r.a.createElement("b",null,'press "E"')," and we will decrease the volume and play it again.",r.a.createElement("br",null),r.a.createElement("br",null),' ONLY HIT "E" if you ',r.a.createElement("b",null,"absolutely need to"),". REMEMBER it ",r.a.createElement("b",null,"should be loud"),"!",r.a.createElement("br",null),r.a.createElement("br",null),' You will have the option to hit "E" again if it is still intolerably loud',r.a.createElement("br",null),r.a.createElement("br",null)," If the ",r.a.createElement("b",null,"volume is tolerable")," then  ",r.a.createElement("b",null,'press "Q"')," and the game will continue!",r.a.createElement("br",null),r.a.createElement("br",null)," ",r.a.createElement("b",null," Press Q to check the white noise volume")))))}}var j=G;class J extends a.Component{constructor(e){super(e),this.playNoise=()=>{console.log("Calling playWhiteNoiseTest with volume:",this.state.volumeLevel),v(this.audioContext,this.state.volumeLevel)},this.decreaseVolume=()=>{this.state.decreaseCount<1&&this.setState(e=>({volumeLevel:e.volumeLevel-3,decreaseCount:e.decreaseCount+1}),()=>{E(this.state.volumeLevel),this.audioContext.close().then(()=>{this.audioContext=new AudioContext,this.playNoise(),this.setState({redirect:"/VolumeCalibration2"})})})},this.keyFunction=e=>{81===e.keyCode?this.setState({continue:!0}):69===e.keyCode&&this.decreaseVolume()},this.state={continue:!1,volumeLevel:80,decreaseCount:0,redirect:null},this.audioContext=new AudioContext}componentDidMount(){document.addEventListener("keydown",this.keyFunction,!1),this.playNoise()}componentWillUnmount(){document.removeEventListener("keydown",this.keyFunction,!1)}render(){return!0===this.state.continue?r.a.createElement(o.a,{to:"/Instructions"}):this.state.redirect?r.a.createElement(o.a,{to:this.state.redirect}):r.a.createElement("div",{className:"VolumeInstructions"},r.a.createElement("input",{type:"hidden"}),r.a.createElement("header",{className:"VolumeInstructions-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"VolumeInstructions-text"},"Is this noise loud but tolerable?",r.a.createElement("br",null),r.a.createElement("br",null)," IF ACCEPTABLE: ",r.a.createElement("b",null,"Press Q")," to continue to the Hearing Test Instructions",r.a.createElement("br",null),r.a.createElement("br",null)," IF INTOLERABLE: ",r.a.createElement("b",null,"Press E")," to try a lower volume"))))}}var X=J;class $ extends a.Component{constructor(e){super(e),this.playNoise=()=>{console.log("Calling playWhiteNoiseTest with volume:",this.state.volumeLevel),v(this.audioContext,this.state.volumeLevel)},this.decreaseVolume=()=>{this.state.decreaseCount<1&&this.setState(e=>({volumeLevel:e.volumeLevel-3,decreaseCount:e.decreaseCount+1}),()=>{E(this.state.volumeLevel),this.audioContext.close().then(()=>{this.audioContext=new AudioContext,this.playNoise(),this.setState({redirect:"/VolumeCalibration3"})})})},this.keyFunction=e=>{81===e.keyCode?this.setState({continue:!0}):69===e.keyCode&&this.decreaseVolume()},this.state={continue:!1,volumeLevel:77,decreaseCount:0,redirect:null},this.audioContext=new AudioContext}componentDidMount(){document.addEventListener("keydown",this.keyFunction,!1),this.playNoise()}componentWillUnmount(){document.removeEventListener("keydown",this.keyFunction,!1)}render(){return!0===this.state.continue?r.a.createElement(o.a,{to:"/Instructions"}):this.state.redirect?r.a.createElement(o.a,{to:this.state.redirect}):r.a.createElement("div",{className:"VolumeInstructions"},r.a.createElement("input",{type:"hidden"}),r.a.createElement("header",{className:"VolumeInstructions-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"VolumeInstructions-text"},"Is this volume better?",r.a.createElement("br",null),r.a.createElement("br",null)," IF ACCEPTABLE: ",r.a.createElement("b",null,"Press Q")," to continue to the Hearing Test Instructions",r.a.createElement("br",null),r.a.createElement("br",null)," IF INTOLERABLE: ",r.a.createElement("b",null,"Press E")," to try a lower volume"))))}}var Z=$;class ee extends a.Component{constructor(e){super(e),this.playNoise=()=>{console.log("Calling playWhiteNoiseTest with volume:",this.state.volumeLevel),v(this.audioContext,this.state.volumeLevel)},this.decreaseVolume=()=>{this.state.decreaseCount<1&&this.setState(e=>({volumeLevel:e.volumeLevel-3,decreaseCount:e.decreaseCount+1}),()=>{E(this.state.volumeLevel),this.audioContext.close().then(()=>{this.audioContext=new AudioContext,this.playNoise(),this.setState({redirect:"/VolumeCalibration4"})})})},this.keyFunction=e=>{81===e.keyCode?this.setState({continue:!0}):69===e.keyCode&&this.decreaseVolume()},this.state={continue:!1,volumeLevel:74,decreaseCount:0,redirect:null},this.audioContext=new AudioContext}componentDidMount(){document.addEventListener("keydown",this.keyFunction,!1),this.playNoise()}componentWillUnmount(){document.removeEventListener("keydown",this.keyFunction,!1)}render(){return!0===this.state.continue?r.a.createElement(o.a,{to:"/Instructions"}):this.state.redirect?r.a.createElement(o.a,{to:this.state.redirect}):r.a.createElement("div",{className:"VolumeInstructions"},r.a.createElement("input",{type:"hidden"}),r.a.createElement("header",{className:"VolumeInstructions-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"VolumeInstructions-text"},"How about now?",r.a.createElement("br",null),r.a.createElement("br",null)," IF ACCEPTABLE: ",r.a.createElement("b",null,"Press Q")," to continue to the Hearing Test Instructions",r.a.createElement("br",null),r.a.createElement("br",null)," IF INTOLERABLE: ",r.a.createElement("b",null,"Press E")," to try a lower volume"))))}}var te=ee;class ne extends a.Component{constructor(e){super(e),this.playNoise=()=>{console.log("Calling playWhiteNoiseTest with volume:",this.state.volumeLevel),v(this.audioContext,this.state.volumeLevel)},this.decreaseVolume=()=>{this.state.decreaseCount<1&&this.setState(e=>({volumeLevel:e.volumeLevel-3,decreaseCount:e.decreaseCount+1}),()=>{E(this.state.volumeLevel),this.audioContext.close().then(()=>{this.audioContext=new AudioContext,this.playNoise(),this.setState({redirect:"/VolumeCalibration5"})})})},this.keyFunction=e=>{81===e.keyCode?this.setState({continue:!0}):69===e.keyCode&&this.decreaseVolume()},this.state={continue:!1,volumeLevel:71,decreaseCount:0,redirect:null},this.audioContext=new AudioContext}componentDidMount(){document.addEventListener("keydown",this.keyFunction,!1),this.playNoise()}componentWillUnmount(){document.removeEventListener("keydown",this.keyFunction,!1)}render(){return!0===this.state.continue?r.a.createElement(o.a,{to:"/Instructions"}):this.state.redirect?r.a.createElement(o.a,{to:this.state.redirect}):r.a.createElement("div",{className:"VolumeInstructions"},r.a.createElement("input",{type:"hidden"}),r.a.createElement("header",{className:"VolumeInstructions-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"VolumeInstructions-text"},"Is this volume tolerable (remember: it should still be loud)?",r.a.createElement("br",null),r.a.createElement("br",null)," IF ACCEPTABLE: ",r.a.createElement("b",null,"Press Q")," to continue to the Hearing Test Instructions",r.a.createElement("br",null),r.a.createElement("br",null)," IF INTOLERABLE: ",r.a.createElement("b",null,"Press E")," to try a lower volume"))))}}var ae=ne;class re extends a.Component{constructor(e){super(e),this.playNoise=()=>{console.log("Calling playWhiteNoiseTest with volume:",this.state.volumeLevel),v(this.audioContext,this.state.volumeLevel)},this.decreaseVolume=()=>{this.state.decreaseCount<1&&this.setState(e=>({volumeLevel:e.volumeLevel-3,decreaseCount:e.decreaseCount+1}),()=>{E(this.state.volumeLevel),this.audioContext.close().then(()=>{this.audioContext=new AudioContext,this.playNoise(),this.setState({redirect:"/VolumeCalibrationEnd"})})})},this.keyFunction=e=>{81===e.keyCode?this.setState({continue:!0}):69===e.keyCode&&this.decreaseVolume()},this.state={continue:!1,volumeLevel:68,decreaseCount:0,redirect:null},this.audioContext=new AudioContext}componentDidMount(){document.addEventListener("keydown",this.keyFunction,!1),this.playNoise()}componentWillUnmount(){document.removeEventListener("keydown",this.keyFunction,!1)}render(){return!0===this.state.continue?r.a.createElement(o.a,{to:"/Instructions"}):this.state.redirect?r.a.createElement(o.a,{to:this.state.redirect}):r.a.createElement("div",{className:"VolumeInstructions"},r.a.createElement("input",{type:"hidden"}),r.a.createElement("header",{className:"VolumeInstructions-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"VolumeInstructions-text"},"Is this volume better (this is close to as low as the volume goes)?",r.a.createElement("br",null),r.a.createElement("br",null)," IF ACCEPTABLE: ",r.a.createElement("b",null,"Press Q")," to continue to the Hearing Test Instructions",r.a.createElement("br",null),r.a.createElement("br",null)," IF INTOLERABLE: ",r.a.createElement("b",null,"Press E")," to try a lower volume"))))}}var se=re;class le extends a.Component{constructor(e){super(e),this.playNoise=()=>{console.log("Calling playWhiteNoiseTest with volume:",this.state.volumeLevel),v(this.audioContext,this.state.volumeLevel)},this.keyFunction=e=>{81===e.keyCode&&this.setState({continue:!0})},this.state={continue:!1,volumeLevel:65,decreaseCount:0,redirect:null},this.audioContext=new AudioContext}componentDidMount(){document.addEventListener("keydown",this.keyFunction,!1),this.playNoise()}componentWillUnmount(){document.removeEventListener("keydown",this.keyFunction,!1)}render(){return!0===this.state.continue?r.a.createElement(o.a,{to:"/Instructions"}):r.a.createElement("div",{className:"VolumeInstructions"},r.a.createElement("input",{type:"hidden"}),r.a.createElement("header",{className:"VolumeInstructions-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"VolumeInstructions-text"},"Now we should be all set! Get ready to listen for the tone in the white noise!",r.a.createElement("br",null),r.a.createElement("br",null)," ",r.a.createElement("b",null,"Press Q")," to continue to the Hearing Test Instructions!"))))}}var oe=le,ie=(n(309),n(144),n(151)),ce=n.n(ie),ue=n(152),me=n.n(ue),de=n(153),he=n.n(de),Ee=n(154),pe=n.n(Ee),be=n(155),ye=n.n(be);n(11),n(310);const ve={0:"",1:ce.a,2:me.a,3:he.a,4:pe.a,5:ye.a};class ge extends a.Component{constructor(e){super(e)}drawCanvas(){this.resizeCanvas();var e=document.getElementById("c"),t=e.getContext("2d"),n=t.getImageData(0,0,e.width,e.height),a=n.data;const r=e.width,s=e.height,l=Math.max(100,e.height/8)/2,o=Math.floor(r/l),i=Math.floor(s/l);let c=(r/l-o)/2*l,u=(s/l-i)/2*l;o%2==1&&(c+=l/2),i%2==1&&(u+=l/2);for(var m=0;m<r;m++)for(var d=0;d<s;d++)if(this.props.showContrast){const e=163*(Math.abs(Math.floor((m-c+l)/l)%2)^Math.abs(Math.floor((d-u)/l)%2));a[4*(m+d*r)+0]=0*e,a[4*(m+d*r)+1]=.6*e,a[4*(m+d*r)+2]=0,a[4*(m+d*r)+3]=255}else a[4*(m+d*r)+0]=0,a[4*(m+d*r)+1]=0,a[4*(m+d*r)+2]=0,a[4*(m+d*r)+3]=255;t.putImageData(n,0,0)}resizeCanvas(){var e=document.getElementById("c");e.width=window.innerWidth,e.height=window.innerHeight}componentDidMount(){this.drawCanvas()}componentDidUpdate(e){this.drawCanvas()}render(){return r.a.createElement("div",null,r.a.createElement("img",{src:ve[this.props.currentRating],width:256,height:256,className:"center",style:{zIndex:101,width:"95vh",height:"50vh",backgroundColor:"black",visibility:this.props.showRatings?"visible":"hidden"}}),r.a.createElement("div",{style:{zIndex:100,backgroundColor:"black",width:"100vw",height:"100vh",position:"fixed",top:0,left:0,visibility:this.props.showRatings?"visible":"hidden"}}),r.a.createElement("canvas",{id:"c",style:{position:"fixed",top:0,left:0,zIndex:1,width:"100%",height:"100%"}}),r.a.createElement("div",{className:"center cross-1",style:{zIndex:10}}),r.a.createElement("div",{className:"center cross-2",style:{zIndex:10}}))}}ge.defaultProps={showContrast:!1,showRatings:!1,contrast:0};var fe=ge,Ce=n(11);const ke=n(25);var we=window.AudioContext||window.webkitAudioContext;Ce.map(Ce.keys({49:1,50:2,51:3,52:4,53:5}),e=>parseInt(e,10));class Te extends a.Component{constructor(e){super(e),this.playStimulus=()=>{if(ke.debug&&this.log_debug(),this.state.index==this.props.decibels.length)return void this.shutdown();if(this.numAttempts++==this.numAttemptsLimit)return void this.setState({complete:!0});this.setState({responseWindow:!0}),this.startTime=(new Date).getTime(),this.playVisualStimulus(1e3);const e=this.props.decibels[this.state.index];p(h,this.audioContext,1e3,e),this.stimulusTimer=setTimeout(this.playStimulus,this.delay+this.jitter()),this.addTimestamp("stim")},this.recordResponse=e=>{if(this.state.responseWindow&&Ce.includes([81,69],e.keyCode)){var t=this;this.addTimestamp("resp");var n=(new Date).getTime();const a=81===e.keyCode?1:0;if(this.response.push(a),this.responseTime.push(n-this.startTime),this.setState({responseWindow:!1}),this.timebox=null,this.props.responseHandler(a),this.props.shouldRecordRatings){clearTimeout(this.stimulusTimer),this.setState({ratingWindow:!0,currentRating:t.numIterations||1,stopShowingRating:!1,stopIncrementingRating:!1}),t.numIterations=t.numIterations||0,this.ratingStartTime=(new Date).getTime(),function e(){t.numIterations++,t.ratingTimer=setTimeout(()=>{if(5==t.numIterations||t.state.stopShowingRating)return t.numIterations=0,t.prevKey=null,void t.finishRatingWindow();t.state.stopIncrementingRating||t.setState({currentRating:t.state.currentRating+1}),e()},250)}()}else this.prevKey=null,this.setState({index:this.state.index+1})}else this.prevKey=null},this.keyDownFunction=e=>{if(this.state.readyToStart)return this.setState({readyToStart:!1}),this.audioContext.resume(),void this.startTrial();if(Ce.includes([81,69],e.keyCode)){if(this.isKeyDown[e.keyCode])return;this.isKeyDown[e.keyCode]=!0}null===this.prevKey&&(this.prevKey=e.keyCode),this.prevKey===e.keyCode&&(clearTimeout(this.timebox),this.timebox=setTimeout(()=>{this.setState({stopIncrementingRating:!1}),this.recordResponse(e)},50))},this.keyUpFunction=e=>{if(Ce.includes([81,69],e.keyCode)&&(this.isKeyDown[e.keyCode]=!1),this.setState({stopIncrementingRating:!0}),this.state.ratingWindow)if(this.timebox)setTimeout(()=>{this.timebox=null,this.prevKey=null},250);else{if((1==Ce.last(this.response)?81:69)==e.keyCode){this.addTimestamp("rating");var t=(new Date).getTime();this.ratingsRaw.push(t-this.ratingStartTime)}}},this.finishRatingWindow=()=>{if(this.ratings.push(this.state.currentRating),this.ratings.length>this.ratingsRaw.length){this.addTimestamp("rating");var e=(new Date).getTime();this.ratingsRaw.push(e-this.ratingStartTime),this.setState({stopIncrementingRating:!0})}this.setState({index:this.state.index+1,ratingWindow:!1}),this.stimulusTimer=setTimeout(this.playStimulus,1e3+this.jitter())},this.state={index:0,showContrast:!1,responseWindow:!1,ratingWindow:!1,trialStarted:!1,complete:!1,invalid:!1,readyToStart:!1,dataSent:R(),currentRating:1,stopIncrementingRating:!1,stopShowingRating:!1},this.canvasRef=r.a.createRef(),this.audioContext=new we,this.initialDelay=2e3,this.delay=2500,this.numAttempts=0,this.numAttemptsLimit=1e3,this.response=[],this.responseTime=[],this.ratings=[],this.ratingsRaw=[],this.timestamps=[],this.ratingTimer=void 0,this.stimulusTimer=void 0,this.componentStartTime=0,this.startTime=0,this.ratingStartTime=0,this.timebox=null,this.numIterations=0,this.isKeyDown={Q_KEY_CODE:!1,E_KEY_CODE:!1},this.prevKey=null}addTimestamp(e){"start"==e?(this.componentStartTime=(new Date).getTime(),this.timestamps.push([e,0])):this.timestamps.push([e,(new Date).getTime()-this.componentStartTime])}playVisualStimulus(e){this.setState({showContrast:!0}),setTimeout(()=>{this.setState({showContrast:!1})},e)}startTrial(){this.setState({trialStarted:!0}),this.stimulusTimer=setTimeout(this.playStimulus,this.initialDelay),function(e){console.log("Playing white noise via REAL playWhiteNoise at volume (dB):",b);for(var t=3*e.sampleRate,n=e.createBuffer(2,t,e.sampleRate),a=(n.getChannelData(0),0);a<n.numberOfChannels;a++)for(var r=n.getChannelData(a),s=0;s<n.length;s++)r[s]=(2*Math.random()-1)*g(b,.015,78.3);var l=e.createBufferSource();l.buffer=n,l.loop=!0,l.connect(e.destination),l.start(0)}(this.audioContext),this.addTimestamp("start")}jitter(){return Math.random()/2*1e3}shutdown(){this.addTimestamp("end"),this.saveDataToStore(),this.setState({complete:!0})}saveDataToStore(){this.props.dataHandler(this.props.decibels,this.response,this.responseTime,this.ratings,this.ratingsRaw,this.timestamps)}componentDidMount(){document.addEventListener("keydown",this.keyDownFunction,!1),document.addEventListener("keyup",this.keyUpFunction,!1),Ce.isUndefined(I())&&this.setState({invalid:!0}),!1===this.state.complete&&setTimeout(()=>{this.setState({readyToStart:!0})},0)}componentWillUnmount(){document.removeEventListener("keydown",this.keyDownFunction,!1),document.removeEventListener("keyup",this.keyUpFunction,!1),this.audioContext.close()}render(){return this.state.invalid?r.a.createElement(o.a,{to:"/Error"}):this.state.dataSent?r.a.createElement(o.a,{to:"/ThankYou"}):this.state.complete?this.props.trialCompleteRenderer(this.props.decibels,this.response):r.a.createElement("div",{className:"Trial "+(this.state.trialStarted?"Trial-gray":"")},this.state.trialStarted?r.a.createElement("div",{className:"Trial-stimulus"},r.a.createElement(fe,{showContrast:this.state.showContrast,showRatings:this.state.ratingWindow,currentRating:this.state.currentRating})):r.a.createElement("p",{className:"Trial-text"},this.state.readyToStart?r.a.createElement("span",null,"Press any key to begin"):r.a.createElement("span",null,"Loading...")))}log_debug(){console.log("================================"),console.log("all decibels: "+this.props.decibels),console.log("all responses: "+this.response),console.log("all responseTime: "+this.responseTime),console.log("all timestamps: "+JSON.stringify(this.timestamps)),console.log("all ratingsRaw: "+this.ratingsRaw),console.log("all ratings: "+this.ratings),console.log("index: "+this.state.index),console.log("numAttempts: "+this.numAttempts),console.log("store: "+JSON.stringify(D.store)),console.log("localStorage: "+JSON.stringify(localStorage)),console.log("================================\n")}}Te.defaultProps={decibels:ke.debug?Ce.shuffle([65,65,65,65]):Ce.concat([65],Ce.shuffle([0,0,0,0,0,65,65,65,65])),shouldRecordRatings:!1,trialCompleteRenderer:Ce.noop,responseHandler:Ce.noop,dataHandler:Ce.noop};var Ne=Te,xe=n(11);const Se=n(25);function Ie(e,t,n){function a(a,r,s,l){return xe.flatten([xe.fill(Array(a),0),xe.fill(Array(r),e),xe.fill(Array(s),t),xe.fill(Array(l),n)])}let r;return r=Se.debug?[a(1,1,1,0),a(1,1,1,0),a(1,1,1,0),a(1,1,1,0),a(1,1,1,0),a(1,1,1,0),a(1,1,1,0),a(1,1,1,0),a(1,1,1,0),a(1,1,1,0),a(1,1,1,0),a(1,1,1,0)]:[xe.concat(xe.fill(Array(8),n),xe.shuffle(a(1,0,1,5))),a(4,2,2,7),a(5,3,3,4),a(6,3,3,3),a(6,4,3,2),a(7,3,3,2),a(7,3,4,1),a(7,3,4,1),a(7,3,4,1),a(7,4,3,1),a(7,4,3,1),a(7,4,3,1)],xe.map(r,(e,t)=>0==t?e:xe.shuffle(e))}function Le(e,t,n){if(xe.isUndefined(Le.blocks))if(3==arguments.length)Le.blocks=Ie(e,t,n);else{const e=N();if(!xe.isUndefined(e)){const t=e.intensities.c25,n=e.intensities.c50,a=e.intensities.c75;Le.blocks=Ie(t,n,a)}}return Le.blocks}var Re=n(142);const Oe=n(25);class Pe extends a.Component{constructor(e){super(e),this.responseHandler=e=>{this.index>=this.maxIndex-1||(this.index%2===0?(this.q1.update(this.state.decibels[this.index],e),this.pushDecibel(this.q1.quantile())):(this.q2.update(this.state.decibels[this.index],e),this.pushDecibel(this.q2.quantile()))),this.index++},this.trialCompleteRenderer=()=>r.a.createElement(o.a,{to:"/Complete"}),this.dataHandler=(e,t,n,a,r,s)=>{const l=e.filter((e,t)=>t%2===0),o=t.filter((e,t)=>t%2===0),i=n.filter((e,t)=>t%2===0),c=e.filter((e,t)=>t%2===1),u=t.filter((e,t)=>t%2===1),m=n.filter((e,t)=>t%2===1);var d,h;!function(e,t,n,a,r,s,l,o,i,c){const u=D.store;u.quest={},u.quest.q1={},u.quest.q2={},u.quest.q1.decibels=n,u.quest.q1.response=a,u.quest.q1.responseTime=r,u.quest.q1.params=C.pick(e.params,T),u.quest.q2.decibels=s,u.quest.q2.response=l,u.quest.q2.responseTime=o,u.quest.q2.params=C.pick(t.params,T),u.quest.timestamps=i,u.quest.startTimestamp=c,D.save()}(this.q1,this.q2,l,o,i,c,u,m,s,this.startTimestamp),d=this.q1,h=this.q2,D.store.processedData=k.ProcessQuestData(d,h),D.save();const E=N();Le(E.intensities.c25,E.intensities.c50,E.intensities.c75)},this.startTimestamp=(new Date).getTime(),this.state={decibels:[]};let t=b-25,n=b-25;this.q1=new Re.Quest(t,5,.75,.1,.01,.01,.15,20),this.q2=new Re.Quest(n,5,.75,.1,.01,.01,.15,20);const a=Oe.debug?2:40;this.index=0,this.maxIndex=2*a-1,this.state={decibels:[t+3,n-3]}}pushDecibel(e){this.setState({decibels:[...this.state.decibels,e]})}render(){return r.a.createElement(Ne,{decibels:this.state.decibels,shouldRecordRatings:!1,trialCompleteRenderer:this.trialCompleteRenderer,dataHandler:this.dataHandler,responseHandler:this.responseHandler})}}var De=Pe;n(11);class Ae extends a.Component{constructor(e){super(e),this.trialCompleteRenderer=(e,t)=>{let n=0;for(let a=0;a<t.length;a++)n+=t[a]==e[a]>0;return n>.7*e.length?r.a.createElement(o.a,{to:"/Continue"}):r.a.createElement(o.a,{to:"/OnceMore"})},this.dataHandler=(e,t,n,a,r,s)=>{S("practice",e,t,n,void 0,void 0,s,this.startTimestamp)},this.startTimestamp=(new Date).getTime()}render(){return r.a.createElement(Ne,{shouldRecordRatings:!1,trialCompleteRenderer:this.trialCompleteRenderer,dataHandler:this.dataHandler})}}var _e=Ae;n(11);class Fe extends a.Component{constructor(e){super(e),this.trialCompleteRenderer=(e,t)=>{let n=0;for(let a=0;a<t.length;a++)n+=t[a]==e[a]>0;return n>.7*e.length?r.a.createElement(o.a,{to:"/Continue_rating"}):r.a.createElement(o.a,{to:"/OnceMore_rating"})},this.dataHandler=(e,t,n,a,r,s)=>{S("practice_rating",e,t,n,a,r,s,this.startTimestamp)},this.startTimestamp=(new Date).getTime()}render(){return r.a.createElement(Ne,{shouldRecordRatings:!0,trialCompleteRenderer:this.trialCompleteRenderer,dataHandler:this.dataHandler})}}var Ye=Fe;n(311);class Ue extends a.Component{constructor(e){super(e),this.keyFunction=e=>{81===e.keyCode&&this.setState((e,t)=>({continue:!0}))},this.state={continue:!1}}componentDidMount(){document.addEventListener("keydown",this.keyFunction,!1)}componentWillUnmount(){document.removeEventListener("keydown",this.keyFunction,!1)}render(){return!0===this.state.continue?r.a.createElement(o.a,{to:"/Trial_P"}):r.a.createElement("div",{className:"OnceMore"},r.a.createElement("input",{type:"hidden"}),r.a.createElement("header",{className:"OnceMore-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"OnceMore-text"},r.a.createElement("br",null),r.a.createElement("br",null)," Nice job, but you didn't reach the required accuracy level, so make sure you are pressing the right keys at the right time.",r.a.createElement("br",null),r.a.createElement("br",null)," You will now have one more practice session. Get ready! Remember,",r.a.createElement("br",null),r.a.createElement("br",null)," a tone might play while the white noise continues when there are stripes on the screen.",r.a.createElement("br",null),r.a.createElement("br",null)," Press  ",r.a.createElement("font",{size:"+2"},"  ",r.a.createElement("b",null,' "Q"/YES ')," ")," if you ",r.a.createElement("b",null," DO "),"hear the tone.",r.a.createElement("br",null),r.a.createElement("br",null)," Press ",r.a.createElement("font",{size:"+2"}," ",r.a.createElement("b",null,' "E"/NO ')," ")," if you ",r.a.createElement("b",null," DO NOT ")," hear the tone.",r.a.createElement("br",null),r.a.createElement("br",null)," Please respond as ",r.a.createElement("b",null," QUICKLY ")," and as ",r.a.createElement("b",null," ACCURATELY ")," as you ",r.a.createElement("b",null," POSSIBLY CAN "),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),' PRESS "Q"/YES TO BEGIN A SHORT PRACTICE SESSION'))))}}var He=Ue;n(312);class Me extends a.Component{constructor(e){super(e),this.keyFunction=e=>{81===e.keyCode&&this.setState((e,t)=>({continue:!0}))},this.state={continue:!1}}componentDidMount(){document.addEventListener("keydown",this.keyFunction,!1)}componentWillUnmount(){document.removeEventListener("keydown",this.keyFunction,!1)}render(){return!0===this.state.continue?r.a.createElement(o.a,{to:"/Trial_P_rating"}):r.a.createElement("div",{className:"OnceMore_rating"},r.a.createElement("input",{type:"hidden"}),r.a.createElement("header",{className:"OnceMore_rating-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"OnceMore_rating-text"},r.a.createElement("br",null),r.a.createElement("br",null)," Nice job, but you didn't reach the required accuracy level, so make sure you are pressing the right keys at the right time,",r.a.createElement("br",null),r.a.createElement("br",null)," and holding the button down to indicate accuracy ratings. You will now have one more practice session. Get ready!",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),' PRESS "Q"/YES WHEN READY TO CONTINUE.'))))}}var We=Me,qe=n(11);const Ve=n(25);class Be extends a.Component{constructor(e){super(e),this.trialCompleteRenderer=(e,t)=>(Ve.debug,r.a.createElement(o.a,{to:"/Break1"})),this.dataHandler=(e,t,n,a,r,s)=>{S(1,e,t,n,a,r,s,this.startTimestamp)},this.startTimestamp=(new Date).getTime(),this.state={decibels:qe.flatten(qe.slice(Le(),0,3))}}render(){return qe.isEmpty(this.state.decibels)?r.a.createElement(o.a,{to:"/Error"}):r.a.createElement(Ne,{decibels:this.state.decibels,shouldRecordRatings:!0,trialCompleteRenderer:this.trialCompleteRenderer,dataHandler:this.dataHandler})}}var Qe=Be,ze=n(11);class Ke extends a.Component{constructor(e){super(e),this.trialCompleteRenderer=(e,t)=>r.a.createElement(o.a,{to:"/Break2"}),this.dataHandler=(e,t,n,a,r,s)=>{S(2,e,t,n,a,r,s,this.startTimestamp)},this.startTimestamp=(new Date).getTime(),this.state={decibels:ze.flatten(ze.slice(Le(),3,6))}}render(){return ze.isEmpty(this.state.decibels)?r.a.createElement(o.a,{to:"/Error"}):r.a.createElement(Ne,{decibels:this.state.decibels,shouldRecordRatings:!0,trialCompleteRenderer:this.trialCompleteRenderer,dataHandler:this.dataHandler})}}var Ge=Ke,je=n(11);class Je extends a.Component{constructor(e){super(e),this.trialCompleteRenderer=(e,t)=>r.a.createElement(o.a,{to:"/Break3"}),this.dataHandler=(e,t,n,a,r,s)=>{S(3,e,t,n,a,r,s,this.startTimestamp)},this.startTimestamp=(new Date).getTime(),this.state={decibels:je.flatten(je.slice(Le(),6,9))}}render(){return je.isEmpty(this.state.decibels)?r.a.createElement(o.a,{to:"/Error"}):r.a.createElement(Ne,{decibels:this.state.decibels,shouldRecordRatings:!0,trialCompleteRenderer:this.trialCompleteRenderer,dataHandler:this.dataHandler})}}var Xe=Je,$e=n(11);class Ze extends a.Component{constructor(e){super(e),this.trialCompleteRenderer=(e,t)=>r.a.createElement(o.a,{to:"/ThankYou"}),this.dataHandler=(e,t,n,a,r,s)=>{S(4,e,t,n,a,r,s,this.startTimestamp)},this.startTimestamp=(new Date).getTime(),this.state={decibels:$e.flatten($e.slice(Le(),9,12))}}render(){return $e.isEmpty(this.state.decibels)?r.a.createElement(o.a,{to:"/Error"}):r.a.createElement(Ne,{decibels:this.state.decibels,shouldRecordRatings:!0,trialCompleteRenderer:this.trialCompleteRenderer,dataHandler:this.dataHandler})}}var et=Ze;n(76);class tt extends a.Component{constructor(e){super(e),this.keyFunction=e=>{81===e.keyCode&&this.setState((e,t)=>({continue:!0}))},this.state={continue:!1}}componentDidMount(){document.addEventListener("keydown",this.keyFunction,!1)}componentWillUnmount(){document.removeEventListener("keydown",this.keyFunction,!1)}render(){return!0===this.state.continue?r.a.createElement(o.a,{to:"/Trial_TT_2"}):r.a.createElement("div",{className:"Break"},r.a.createElement("input",{type:"hidden"}),r.a.createElement("header",{className:"Break-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"Break-text"},"Great!",r.a.createElement("br",null),r.a.createElement("br",null)," Take a quick break. Three more to go!",r.a.createElement("br",null),r.a.createElement("br",null)," Remember: Continue to listen carefully and do the best you can.",r.a.createElement("br",null),r.a.createElement("br",null)," The task will continue to be difficult, but it is okay to guess and it is okay to be uncertain.",r.a.createElement("br",null),r.a.createElement("br",null)," Please focus your eyes on the ",r.a.createElement("b",null,"cross in the middle "),r.a.createElement("br",null),r.a.createElement("br",null)," Press ",r.a.createElement("b",null,' "Q"/YES ')," if you ",r.a.createElement("b",null," DO ")," hear a tone.",r.a.createElement("br",null),r.a.createElement("br",null)," Press ",r.a.createElement("b",null,' "E"/NO ')," if you ",r.a.createElement("b",null," DO NOT ")," hear a tone.",r.a.createElement("br",null),r.a.createElement("br",null)," Please respond as ",r.a.createElement("b",null," QUICKLY ")," and as ",r.a.createElement("b",null," ACCURATELY ")," as you ",r.a.createElement("b",null," POSSIBLY CAN "),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),' PRESS "Q"/YES TO CONTINUE WITH THE NEXT PART'))))}}var nt=tt;class at extends a.Component{constructor(e){super(e),this.keyFunction=e=>{81===e.keyCode&&this.setState((e,t)=>({continue:!0}))},this.state={continue:!1}}componentDidMount(){document.addEventListener("keydown",this.keyFunction,!1)}componentWillUnmount(){document.removeEventListener("keydown",this.keyFunction,!1)}render(){return!0===this.state.continue?r.a.createElement(o.a,{to:"/Trial_TT_3"}):r.a.createElement("div",{className:"Break"},r.a.createElement("input",{type:"hidden"}),r.a.createElement("header",{className:"Break-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"Break-text"},"Great!",r.a.createElement("br",null),r.a.createElement("br",null)," Great!!! Take a quick break. Two more to go!",r.a.createElement("br",null),r.a.createElement("br",null)," Remember: Continue to listen carefully and do the best you can.",r.a.createElement("br",null),r.a.createElement("br",null)," The task will continue to be difficult, but it is okay to guess and it is okay to be uncertain.",r.a.createElement("br",null),r.a.createElement("br",null)," Press ",r.a.createElement("b",null,' "Q"/YES ')," if you ",r.a.createElement("b",null," DO ")," hear a tone.",r.a.createElement("br",null),r.a.createElement("br",null)," Press ",r.a.createElement("b",null,' "E"/NO ')," if you ",r.a.createElement("b",null," DO NOT ")," hear a tone.",r.a.createElement("br",null),r.a.createElement("br",null)," Please respond as ",r.a.createElement("b",null," QUICKLY ")," and as ",r.a.createElement("b",null," ACCURATELY ")," as you ",r.a.createElement("b",null," POSSIBLY CAN "),r.a.createElement("br",null),r.a.createElement("br",null)," Please focus your eyes on the ",r.a.createElement("b",null,"cross in the middle "),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),' PRESS "Q"/YES TO CONTINUE WITH THE NEXT PART'))))}}var rt=at;class st extends a.Component{constructor(e){super(e),this.keyFunction=e=>{81===e.keyCode&&this.setState((e,t)=>({continue:!0}))},this.state={continue:!1}}componentDidMount(){document.addEventListener("keydown",this.keyFunction,!1)}componentWillUnmount(){document.removeEventListener("keydown",this.keyFunction,!1)}render(){return!0===this.state.continue?r.a.createElement(o.a,{to:"/Trial_TT_4"}):r.a.createElement("div",{className:"Break"},r.a.createElement("input",{type:"hidden"}),r.a.createElement("header",{className:"Break-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"Break-text"},"Great!",r.a.createElement("br",null),r.a.createElement("br",null)," Take a quick break. One more to go!",r.a.createElement("br",null),r.a.createElement("br",null)," Remember: Continue to listen carefully and do the best you can.",r.a.createElement("br",null),r.a.createElement("br",null)," The task will continue to be difficult, but it is okay to guess and it is okay to be uncertain.",r.a.createElement("br",null),r.a.createElement("br",null)," Please focus your eyes on the ",r.a.createElement("b",null,"cross in the middle "),r.a.createElement("br",null),r.a.createElement("br",null)," Press ",r.a.createElement("b",null,' "Q"/YES ')," if you ",r.a.createElement("b",null," DO ")," hear a tone.",r.a.createElement("br",null),r.a.createElement("br",null)," Press ",r.a.createElement("b",null,' "E"/NO ')," if you ",r.a.createElement("b",null," DO NOT ")," hear a tone.",r.a.createElement("br",null),r.a.createElement("br",null)," Please respond as ",r.a.createElement("b",null," QUICKLY ")," and as ",r.a.createElement("b",null," ACCURATELY ")," as you ",r.a.createElement("b",null," POSSIBLY CAN "),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),' PRESS "Q"/YES TO CONTINUE WITH THE NEXT PART'))))}}var lt=st,ot=(n(313),n(79));const it=n(25);var ct=n(11);class ut extends a.Component{constructor(e){super(e),this.keyFunction=e=>{81===e.keyCode&&this.setState((e,t)=>({continue:!0}))},this.state={continue:!1,invalid:!1,sentData:!1,link:void 0}}componentDidMount(){document.addEventListener("keydown",this.keyFunction,!1);const e=I(),t=function(){const e=C.clone(D.store);return e.taskName=f.taskName,e.taskVersion=f.taskVersion,e.WhiteNoiseDecibels=b,e.visualStim=d,e.auditoryStim=h,JSON.stringify(e)}();if(m?this.setState({link:"link"}):ct.isUndefined(L())?Object(ot.a)(e).then(e=>this.setState({link:e})):this.setState({link:L()}),!R())return it.debug&&(console.log("encrypted metadata: "+e),console.log("store export: "+t),console.log("localStorage: "+JSON.stringify(localStorage))),P()?m?(O(!0),this.setState({sentData:!0}),void A()):void Object(ot.b)(e,t).then(()=>{O(!0),this.setState({sentData:!0}),A()}):(D.clear(),void this.setState({invalid:!0}));this.setState({sentData:!0})}componentWillUnmount(){document.removeEventListener("keydown",this.keyFunction,!1)}render(){if(this.state.invalid)return r.a.createElement(o.a,{to:"/Error"});if(this.state.continue)window.location.assign(this.state.link);else if(!this.state.sentData||ct.isUndefined(this.state.link))return r.a.createElement("div",{className:"ThankYou"},r.a.createElement("p",{className:"ThankYou-text"},"Loading... (if stuck her for more than 30s try refreshing a few  times)"));return r.a.createElement("div",{className:"ThankYou"},r.a.createElement("input",{type:"hidden"}),r.a.createElement("header",{className:"ThankYou-header"},r.a.createElement("div",{className:"text-container"},r.a.createElement("p",{className:"ThankYou-text"},r.a.createElement("span",{className:"bigger"}," You finished the game! Thank you for helping science! "),r.a.createElement("br",null),r.a.createElement("br",null)," Please ",r.a.createElement("a",{href:this.state.link},"click here")," or press 'Q' to return to the survey.")),r.a.createElement("a",{href:"https://medicine.yale.edu/psychiatry/care/cmhc/",title:"Learn more about the Connecticut Mental Health Center",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:c.a,className:"Site-link",alt:"logo"}))))}}var mt=ut,dt=(n(330),()=>r.a.createElement("div",{className:"Error"},r.a.createElement("h3",null,"Something went wrong. Please try again."))),ht=()=>r.a.createElement(o.d,null,r.a.createElement(o.b,{path:"/",exact:!0,component:U}),r.a.createElement(o.b,{path:"/Welcome",exact:!0,component:U}),r.a.createElement(o.b,{path:"/VolumeCalibrationInstructions",exact:!0,component:j}),r.a.createElement(o.b,{path:"/VolumeCalibration1",exact:!0,component:X}),r.a.createElement(o.b,{path:"/VolumeCalibration2",exact:!0,component:Z}),r.a.createElement(o.b,{path:"/VolumeCalibration3",exact:!0,component:te}),r.a.createElement(o.b,{path:"/VolumeCalibration4",exact:!0,component:ae}),r.a.createElement(o.b,{path:"/VolumeCalibration5",exact:!0,component:se}),r.a.createElement(o.b,{path:"/VolumeCalibrationEnd",exact:!0,component:oe}),r.a.createElement(o.b,{path:"/Instructions",exact:!0,component:M}),r.a.createElement(o.b,{path:"/Trial_P",exact:!0,component:_e}),r.a.createElement(o.b,{path:"/OnceMore",exact:!0,component:He}),r.a.createElement(o.b,{path:"/Continue",exact:!0,component:Q}),r.a.createElement(o.b,{path:"/Trial_P_rating",exact:!0,component:Ye}),r.a.createElement(o.b,{path:"/OnceMore_rating",exact:!0,component:We}),r.a.createElement(o.b,{path:"/Continue_rating",exact:!0,component:K}),r.a.createElement(o.b,{path:"/TrialQ",exact:!0,component:De}),r.a.createElement(o.b,{path:"/Complete",exact:!0,component:V}),r.a.createElement(o.b,{path:"/Trial_TT_1",exact:!0,component:Qe}),r.a.createElement(o.b,{path:"/Break1",exact:!0,component:nt}),r.a.createElement(o.b,{path:"/Trial_TT_2",exact:!0,component:Ge}),r.a.createElement(o.b,{path:"/Break2",exact:!0,component:rt}),r.a.createElement(o.b,{path:"/Trial_TT_3",exact:!0,component:Xe}),r.a.createElement(o.b,{path:"/Break3",exact:!0,component:lt}),r.a.createElement(o.b,{path:"/Trial_TT_4",exact:!0,component:et}),r.a.createElement(o.b,{path:"/ThankYou",exact:!0,component:mt}),r.a.createElement(o.b,{path:"/Error",exact:!0,component:dt}),r.a.createElement(o.b,{component:W}));class Et extends a.Component{render(){return r.a.createElement("div",null,r.a.createElement(ht,null))}}var pt=Et,bt=n(4),yt=n(9);const vt=Object(yt.a)();Object({NODE_ENV:"production",PUBLIC_URL:"/achshorttes3",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).NODE_CONFIG_DIR="../config",l.a.render(r.a.createElement(bt.a,{history:vt,basename:"/achshorttes3"},r.a.createElement(pt,null)),document.getElementById("root"))},49:function(e,t,n){e.exports=n.p+"static/media/psych_logo.6956dbda.jpg"},76:function(e,t,n){},79:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return o}));var a=n(314),r=n(327);const s=n(25);function l(t,n){return new Promise((function(l,o){const i=r.stringify({encrypted_metadata:t,data:n}),c={hostname:s.awsLambda.saveTaskData.host,port:443,path:s.awsLambda.saveTaskData.path,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","Content-Length":e.byteLength(i)}},u=a.request(c,e=>{e.setEncoding("utf8"),e.on("data",()=>{}),e.on("end",l)});u.on("error",e=>{s.debug&&(console.log("ERROR:"),console.log(e)),o(e)}),u.write(i),u.end()}))}function o(t){return new Promise((function(n,l){const o=r.stringify({encrypted_metadata:t}),i={hostname:s.awsLambda.fetchLink.host,port:443,path:s.awsLambda.fetchLink.path,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","Content-Length":e.byteLength(o)}},c=a.request(i,e=>{e.setEncoding("utf8");var t="";e.on("data",(function(e){t+=e})),e.on("end",()=>n(t))});c.on("error",e=>{s.debug&&(console.log("ERROR:"),console.log(e)),l(e)}),c.write(o),c.end()}))}}).call(this,n(3).Buffer)}},[[156,1,2]]]);
//# sourceMappingURL=main.c108c312.chunk.js.map